# 10.0 - Sistema de Categorias

**Sprint:** Sprint 2 (Semana 5)
**Prioridade:** P0
**Estimativa:** 3 dias
**ParalelizÃ¡vel:** Sim (com 9.0)

---

## ğŸ“‹ DescriÃ§Ã£o

Implementa gerenciamento de categorias de transaÃ§Ãµes (AlimentaÃ§Ã£o, Transporte, Moradia, etc). Inclui categorias prÃ©-definidas (10+) e permite criar customizadas. Cada categoria tem nome, Ã­cone, cor e tipo (receita/despesa/ambos).

Categorias sÃ£o fundamentais para classificar transaÃ§Ãµes e gerar relatÃ³rios por categoria. O MVP vem com categorias padrÃ£o mas permite customizaÃ§Ã£o.

---

## ğŸ¯ Objetivos

- [ ] Criar CRUD de categorias
- [ ] Integrar com API Rails
- [ ] Implementar 10+ categorias prÃ©-definidas
- [ ] Criar formulÃ¡rio de categoria personalizada
- [ ] Permitir escolha de Ã­cone e cor
- [ ] Usar Lucide Icons

---

## ğŸ“ Subtarefas

### 10.1 - Service de Categorias
**Estimativa:** M
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/shared/services/api/categories.service.ts`

**Checklist:**
- [ ] getCategories
- [ ] createCategory
- [ ] updateCategory
- [ ] deleteCategory
- [ ] getCategoryStatistics
- [ ] Testes unitÃ¡rios

### 10.2 - Modelo e Schema
**Estimativa:** S
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/shared/models/Category.model.ts`
- `src/shared/schemas/category.schema.ts`

**CÃ³digo:**
```typescript
export const categorySchema = z.object({
  name: z.string().min(2, 'Nome muito curto'),
  icon: z.string(),
  color: z.string().regex(/^#[0-9A-F]{6}$/i, 'Cor invÃ¡lida'),
  category_type: z.enum(['income', 'expense', 'both']),
});
```

**Checklist:**
- [ ] Interface Category
- [ ] Schema Zod
- [ ] Enum de tipos

### 10.3 - ViewModel de Categorias
**Estimativa:** M
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/viewModels/useCategory.viewModel.ts`

**Checklist:**
- [ ] CRUD completo
- [ ] Filtro por tipo
- [ ] Loading/error states
- [ ] Testes unitÃ¡rios

### 10.4 - Zustand Categories Store
**Estimativa:** M
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/shared/stores/categoriesStore.ts`

**Checklist:**
- [ ] Array de categorias
- [ ] AÃ§Ãµes CRUD
- [ ] Filtro por tipo
- [ ] Cache

### 10.5 - Lista de Categorias
**Estimativa:** M
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/app/categories/CategoryList.view.tsx`
- `src/app/categories/components/CategoryCard.tsx`

**Checklist:**
- [ ] Lista de categorias
- [ ] CategoryCard com Ã­cone, nome, cor
- [ ] Tabs: Despesas, Receitas, Todas
- [ ] Tap para editar
- [ ] Swipe para deletar (se nÃ£o tiver transaÃ§Ãµes)
- [ ] BotÃ£o adicionar categoria

### 10.6 - FormulÃ¡rio de Categoria
**Estimativa:** L
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/app/categories/CategoryForm.view.tsx`
- `src/app/categories/components/IconPicker.tsx`
- `src/app/categories/components/ColorPicker.tsx`

**Checklist:**
- [ ] Campos: nome, Ã­cone, cor, tipo
- [ ] ValidaÃ§Ã£o com Zod
- [ ] IconPicker com grid de Ã­cones Lucide
- [ ] ColorPicker com paleta prÃ©-definida
- [ ] Seletor de tipo (receita/despesa/ambos)
- [ ] Preview da categoria

### 10.7 - Categorias PrÃ©-definidas
**Estimativa:** S
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/shared/constants/defaultCategories.ts`

**CÃ³digo:**
```typescript
export const DEFAULT_CATEGORIES = [
  { name: 'AlimentaÃ§Ã£o', icon: 'Utensils', color: '#10B981', category_type: 'expense' },
  { name: 'Transporte', icon: 'Car', color: '#3B82F6', category_type: 'expense' },
  { name: 'Moradia', icon: 'Home', color: '#F59E0B', category_type: 'expense' },
  { name: 'Lazer', icon: 'Gamepad2', color: '#8B5CF6', category_type: 'expense' },
  { name: 'SaÃºde', icon: 'Heart', color: '#EF4444', category_type: 'expense' },
  { name: 'EducaÃ§Ã£o', icon: 'BookOpen', color: '#06B6D4', category_type: 'expense' },
  { name: 'Compras', icon: 'ShoppingBag', color: '#EC4899', category_type: 'expense' },
  { name: 'SalÃ¡rio', icon: 'Briefcase', color: '#10B981', category_type: 'income' },
  { name: 'Investimentos', icon: 'TrendingUp', color: '#10B981', category_type: 'income' },
  { name: 'Freelance', icon: 'Laptop', color: '#10B981', category_type: 'income' },
];
```

**Checklist:**
- [ ] 10+ categorias definidas
- [ ] Ãcones do Lucide
- [ ] Cores variadas
- [ ] 3+ receitas, 7+ despesas

### 10.8 - Ãcones DisponÃ­veis
**Estimativa:** S
**Tipo:** Desenvolvimento

**Arquivos:**
- `src/shared/constants/icons.ts`

**Checklist:**
- [ ] Lista de 50+ Ã­cones do Lucide
- [ ] Agrupados por categoria
- [ ] Mapeamento nome â†’ componente

### 10.9 - Testes
**Estimativa:** M
**Tipo:** Teste

**Checklist:**
- [ ] Testes do ViewModel
- [ ] Testes do formulÃ¡rio
- [ ] Testes da lista
- [ ] Cobertura > 80%

---

## ğŸ”— DependÃªncias

**Bloqueia:** 8.0 (transaÃ§Ãµes precisam de categorias)
**Bloqueado por:** 7.0, 2.0
**Paralelo com:** 9.0

---

## âœ… CritÃ©rios de Sucesso

- [ ] CRUD de categorias funcionando
- [ ] 10+ categorias prÃ©-definidas
- [ ] CriaÃ§Ã£o de categorias customizadas
- [ ] IconPicker com 50+ Ã­cones
- [ ] ColorPicker funcional
- [ ] NÃ£o permitir deletar categoria com transaÃ§Ãµes
- [ ] Cobertura de testes: 80%
- [ ] Code review aprovado

---

## ğŸ“š ReferÃªncias

- [PRD - RF04](../prd.md#rf04---contas-e-categorias)
- [Tech Spec - 3.2.5](../tech-spec.md#325-categorias)
- [Lucide Icons](https://lucide.dev/icons/)

---

## ğŸ·ï¸ Tags

`#categories` `#crud` `#icons` `#critical`

---

## ğŸ“Œ Notas Importantes

- Categorias padrÃ£o sÃ£o criadas no backend ao criar conta
- NÃ£o permitir deletar categoria se tiver transaÃ§Ãµes associadas
- Ãcones devem ser buscÃ¡veis por nome
- Paleta de cores prÃ©-definida para UX consistente
- Validar nome Ãºnico por usuÃ¡rio
- Categoria "Outros" como fallback

---

**Criado em:** 2025-11-10
**Atualizado em:** 2025-11-10
**Status:** â³ NÃ£o iniciada
